<?xml version="1.0" encoding="UTF-8"?>
<!--
   This package will build a ZIP the root of the source tree and all subdirectories.  Essentially a snapshot of the
   subversion checkout.
-->
<assembly
        xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd">
    <id>src</id>
    <formats>
        <format>zip</format>
    </formats>

    <includeBaseDirectory>true</includeBaseDirectory>
    <baseDirectory>${project.artifactId}-${project.version}-src</baseDirectory>

    <fileSets>
        <fileSet>
            <includes>
                <include>pom.xml</include>
                <include>README*</include>
                <include>bom/**</include>
                <include>parent/**</include>
                <include>commons/**</include>
                <include>core/**</include>
                <include>tools/**</include>
                <include>query/**</include>
                <include>query-dsl/**</include>
                <include>remote-query/**</include>
                <include>object-filter/**</include>
                <include>lucene/pom.xml</include>
                <include>lucene/lucene-directory/**</include>
                <include>lucene/lucene-v3/**</include>
                <include>persistence/pom.xml</include>
                <include>persistence/jdbc/**</include>
                <include>persistence/remote/**</include>
                <include>persistence/jpa/**</include>
                <include>persistence/leveldb/**</include>
                <include>persistence/rest/**</include>
                <include>server/pom.xml</include>
                <include>server/core/**</include>
                <include>server/hotrod/**</include>
                <include>server/memcached/**</include>
                <include>server/rest/**</include>
                <include>client/**</include>
                <include>cli/**</include>
                <include>cdi/extension/**</include>
                <include>as-modules/**</include>
                <include>all/embedded/**</include>
                <include>all/embedded-query/**</include>
                <include>all/remote/**</include>
                <include>compatibility52x/**</include>
                <include>rhq-plugin/**</include>
                <include>integrationtests/security-it/**</include>
                <include>integrationtests/security-manager-it/**</include>
                <include>integrationtests/osgi/**</include>
                <include>server/integration/**</include>
                <include>integrationtests/as-integration/**</include>
                <include>integrationtests/as-integration-remote-client/**</include>
                <include>integrationtests/luceneintegration/**</include>
                <include>integrationtests/compatibility-mode-it/**</include>
            </includes>
            <excludes>
                <exclude>**/target/**</exclude>
                <exclude>**/output/**</exclude>
                <exclude>**/test-output/**</exclude>
                <exclude>**/out/**</exclude>
                <exclude>**/jbossdb/**</exclude>
                <exclude>**/testFiles/**</exclude>
                <exclude>**/*.jdb</exclude>
                <exclude>**/*.iml</exclude>
                <exclude>**/*.ipr</exclude>
                <exclude>**/*.iws</exclude>
                <exclude>**/.idea/**</exclude>
                <exclude>**/*.log</exclude>
                <exclude>**/*.lck</exclude>
                <exclude>**/*-BdbjeCacheStore/**</exclude>
                <exclude>**/ObjectStore/**</exclude>
                <exclude>**/PutObjectStoreDirHere/**</exclude>
                <exclude>**/coretarget/**</exclude>
                <exclude>**/.git/**</exclude>
                <exclude>**/dependency-reduced-pom.xml</exclude>
            </excludes>
        </fileSet>
    </fileSets>
</assembly>
